# Імітаційне моделювання комп'ютерних систем
## Лабораторная работа №4. Моделирование в среде CoppeliaSim

<br>

### 4.1 Цель работы
Познакомиться с возможностями среды робототехнического моделирования CoppeliaSim. Использовать существующие модели и компоненты и корректировать логику их работы. Получить представление о синтаксисе языка Lua.

<br>

### 4.2 Описание лабораторной установки
Для выполнения лабораторной работы потребуется свободно распространяемая (для учебного использования) среда [**CoppeliaSim**](https://www.coppeliarobotics.com/downloads).  
Процесс выполнения данной лабораторной работы (в отличие от предыдущих), нет необходимости описывать в md-файле. Для отработки достаточно будет соответствующего **файла сцены** ("File" -> "Save scene as..." -> "CoppeliaSim scene...") и ответов на вопросы по ней.

<br>

### 4.3 Порядок выполнения работы
1. В новой сцене (открываемой CoppeliaSim при запуске) **добавить робота Pioneer P3DX** (найти можно в "Model browser" -> "robots" -> "mobile"). *Это уже знакомый с лекций робот, приводимый в движение двумя колесами, скорость вращения каждого из которых управляется сигналами с датчиков, что позволяет изменять направление движения при обнаружении поблизости препятствия.*  
Попрактиковаться в манипулировании сценой - запуск симуляции, перемещение объектов, вращение объектов в разных плоскостях, изменение угла обзора сцены и т.д. *Это пригодится при дальнейшей работе.*
2. Добавить на сцену в произвольное место перед роботом **препятствие**. Например, обычную стену: "Model browser" -> "infrastructure" -> "walls"). Проверить, как изменится направление движения робота.
3. Добавить на робота **камеру**, изображение с которой будет выводиться пользователю и показывать, что "видит" перед собою робот в процессе движения. Для этого необходимо добавить собственно камеру (следите, чтобы она была добавлена именно в состав робота в иерехии объектов сцены) и, по ПКМ по сцене, добавить Floating view (это отображаемый пользователю "экран"), в свойствах которого ассоциировать его с выбранной камерой. Проверить работу.
4. Добавить **трассировку** движения робота - чтобы он оставлял за собой "след". Удобно для этого воспользоваться кодом из роботов из готовых сцен в папке tutorials, идущей в комплекте с CoppeliaSim.
5. На основе сцены "LineFollowingBubbleRob" (с которой удобно брать элементы и код для своей сцены), реализовать перемещение робота Pioneer P3DX **по линии**. Для этого потребуется добавить датчики (с соответствующей логикой) и "трассу". *Обратите внимание на изменение трассы - буквальный "копипаст" будет плохой идеей, т.к. пионер может просто не вписаться по габаритам. Хотя, это можно подправить размещением датчиков... Кстати, в предлагаемом моём примере работы датчики размещены несколько некорректно - часть из них геометрически оказалась несколько впереди корпуса робота.*
<br>
<br>
Возможно **необязательное** усложнение задания, путём использования иных роботов, освоения других компонентов и логики их работы, неописанных возможностей CoppeliaSim (по своему интересу, простор для этого есть) **допустимо и поощряется** более высокими баллами за **отработку**.  
Обязательно **согласуйте**, что именно планируете реализовать из неучтённого порядком выполнения работы. Это позволит и определить, насколько стоит такое усложнение повышения оценки.  
В случае согласованного усложнения, данная "усложнённая" лабораторная работа может выполняться совместно **коллективом** до трёх и более (по согласованию) человек. Но помните, что вопросы на отработке будут ко всем участникам бригады.

### 4.4 Пример выполнения работы
Для ориентировки, что может получится в итоге, можно изучить [готовую сцену](example.ttt).

<br>

### 4.5 Содержание отчета
Наличие отчета не является необходимым. Его функции выполняет файл сцены, который должен будет быть выложен на сервисе GitHub и после получения отработки должна быть предоставлена ссылка на репозиторий.
<br>

<!-- 
Это пока заготовка с прошлой лабораторной, ближе к проведению, прикину вопросы и литературу.
### 3.5 Контрольные вопросы
1. Для чего нужна оптимизационная модель?
1. Какие этапы использования среды BehaviorSearch?
1. Что такое целевая функция (функция приспособленности)?
1. Как вы понимаете понятие "пространства поиска"?
1. Какие алгоритмы поиска доступны в среде BehaviorSearch?
1. В чём заключается метод случайного поиска?
1. В чём разница между средним арифметическим значением и медианой?
1. Какие могут использоваться критерии остановки поиска?
2. Какие основные этапы работы генетического алгоритма?
2. Какие генетические операторы вам известны?
2. Что такое кроссовер? Как происходит отбор особей для него?
2. Для чего нужен оператор мутации?
2. Какие есть способы кодирования вариантов решений (особей) в генетическом алгоритме?
2. Недостатки и преимущества использования генетических алгоритмов.
2. В чём заключается алгоритм имитации отжига?
2. В чём заключается метод поиска восхождением к вершине?

<br>

### СПИСОК ЛИТЕРАТУРЫ
1. Среда [BehaviorSearch](http://www.behaviorsearch.org/).
1. Подробное [описание процесса использования](https://www.behaviorsearch.org/documentation/tutorial.html) BehaviorSearch, на примере.
1. Популярное [описание работы генетических алгоритмов](http://algolist.ru/ai/ga/).
1. [Introduction to Genetic Algorithms](https://towardsdatascience.com/introduction-to-genetic-algorithms-including-example-code-e396e98d8bf3).
1. [Генетический алгоритм. Просто о сложном](https://habr.com/ru/post/128704/). *Пример использования для решения Диофантового уравнения и масса ссылок на другие неформальные статьи по этой теме*.
1. Руководства по разметке Markdown: [1](https://gist.github.com/Jekins/2bf2d0638163f1294637), [2](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet), [3](https://www.markdownguide.org/basic-syntax/).
-->
<!-- 
Если не пугает углубление в науку (оно для лабы не является необходимым, базовых источников и рассказанного на лекциях хватит), есть хорошие статьи про использование методов поиска, указанные в самом проекте BehaviorSearch, по ссылке http://www.behaviorsearch.org/papers.html
-->